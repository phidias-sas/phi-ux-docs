(window.webpackJsonp=window.webpackJsonp||[]).push([[12,17],{"16db":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var vuedraggable_common=__webpack_require__("310e"),vuedraggable_common_default=__webpack_require__.n(vuedraggable_common),useCms=__webpack_require__("4139"),components=__webpack_require__("e109"),ui_components=__webpack_require__("f1ea"),Container_ContainerEditorvue_type_script_lang_js_={name:"cms-container-editor",mixins:[useCms.a],components:{CmsBlockEditor:components.b,CmsLauncher:components.c,UiIcon:ui_components.UiIcon,draggable:vuedraggable_common_default.a},props:{value:{type:Object,required:!1,default:null}},data:function data(){return{block:null,isHovered:!1}},watch:{value:{immediate:!0,handler:function handler(newValue){this.block=JSON.parse(JSON.stringify(newValue))}}},methods:{emitInput:function emitInput(){this.$emit("input",JSON.parse(JSON.stringify(this.block)))},appendBlock:function appendBlock(newBlock){if((this.block.children||(this.block.children=[]),this.block.children.length&&newBlock.component==this.block.children[this.block.children.length-1].component)&&"CmsMediaHtml"==newBlock.component)return this.block.children[this.block.children.length-1].props.value+=newBlock.props.value,void this.emitInput();newBlock.title=this.getUniqueBlockTitle(newBlock.title),this.block.children.push(newBlock),this.emitInput()},deleteBlock:function deleteBlock(index){confirm("Eliminar este bloque?")&&(this.block.children.splice(index,1),this.emitInput())},getUniqueBlockTitle:function getUniqueBlockTitle(title){var matches=this.block.children.filter((function(child){return child.title&&child.title.substring(0,title.length)==title}));return matches.length?title+" "+this.toRomanNumeral(matches.length+1):title},toRomanNumeral:function toRomanNumeral(number){if(!(number=parseInt(number))||number<0)return"";var romans=["","I","II","III","IV","V","VI","VII","VIII","IX","X"];return void 0!==romans[number]?romans[number]:"X"+this.toRomanNumeral(number-10)}}},componentNormalizer=(__webpack_require__("9809"),__webpack_require__("2877")),component=Object(componentNormalizer.a)(Container_ContainerEditorvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"cms-container-editor",class:{"--empty":!_vm.block.children.length,"--is-hovered":_vm.isHovered}},[_c("draggable",{attrs:{list:_vm.block.children,handle:".drag-handle",group:"shared-block-container","swap-threshold":.5,animation:150,"force-fallback":!0},on:{change:_vm.emitInput,start:function($event){_vm.$cms.isDragging=!0},end:function($event){_vm.$cms.isDragging=!1}}},_vm._l(_vm.block.children,(function(child,i){return _c("cms-block-editor",{key:child.id,on:{input:_vm.emitInput,delete:function($event){return _vm.deleteBlock(i)}},scopedSlots:_vm._u([{key:"toolbar-buttons",fn:function(){return[_c("ui-icon",{staticClass:"drag-handle",staticStyle:{cursor:"move"},attrs:{value:"mdi:cursor-move"}})]},proxy:!0}],null,!0),model:{value:_vm.block.children[i],callback:function($$v){_vm.$set(_vm.block.children,i,$$v)},expression:"block.children[i]"}})})),1),_c("cms-launcher",{attrs:{placeholder:_vm.block.title},on:{input:_vm.appendBlock},nativeOn:{mouseenter:function($event){_vm.isHovered=!0},mouseleave:function($event){_vm.isHovered=!1}}})],1)}),[],!1,null,null,null);__webpack_exports__.default=component.exports},"2f50":function(module,exports,__webpack_require__){},"941a":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var ContainerEditor=__webpack_require__("16db"),Columns_ColumnsEditorvue_type_script_lang_js_={name:"columnator",components:{UiIcon:__webpack_require__("f1ea").UiIcon,ContainerEditor:ContainerEditor.default},props:{value:{type:Object,required:!1,default:null}},data:function data(){return{block:null}},watch:{value:{immediate:!0,handler:function handler(newValue){this.block=JSON.parse(JSON.stringify(newValue))}}},methods:{emitInput:function emitInput(){this.$emit("input",JSON.parse(JSON.stringify(this.block)))},addColumn:function addColumn(){this.block.children||this.$set(this.block,"children",[]),this.block.children.push({id:this.block.id+"-col-"+(this.block.children.length+1),title:"Columna "+(this.block.children.length+1),component:"CmsContainer",children:[]}),this.emitInput()},removeColumn:function removeColumn(index){this.block.children.splice(index,1),this.emitInput()}}},componentNormalizer=(__webpack_require__("d1cb"),__webpack_require__("2877")),component=Object(componentNormalizer.a)(Columns_ColumnsEditorvue_type_script_lang_js_,(function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"cms-columns-editor"},[_c("table",[_c("tbody",[_c("tr",[_vm._l(_vm.block.children,(function(child,i){return _c("td",{key:i,attrs:{width:100/_vm.block.children.length+"%",valign:"top"}},[_c("div",{staticClass:"column-contents"},[!(_vm.block.children.length>2)||_vm.block.children[i].children&&_vm.block.children[i].children.length?_vm._e():_c("ui-icon",{staticClass:"delete-icon",attrs:{value:"g:delete"},on:{click:function($event){return _vm.removeColumn(i)}}}),_c("container-editor",{staticClass:"nested-container-editor",on:{input:_vm.emitInput},model:{value:_vm.block.children[i],callback:function($$v){_vm.$set(_vm.block.children,i,$$v)},expression:"block.children[i]"}})],1)])})),_vm.block.children.length<4?_c("td",{attrs:{valign:"bottom",width:"48px"}},[_c("ui-icon",{staticClass:"add-icon",attrs:{value:"mdi:plus-box"},on:{click:function($event){return _vm.addColumn()}}})],1):_vm._e()],2)])])])}),[],!1,null,null,null);__webpack_exports__.default=component.exports},9809:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ContainerEditor_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("9aef");__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ContainerEditor_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__).a},"9aef":function(module,exports,__webpack_require__){},d1cb:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ColumnsEditor_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2f50");__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ColumnsEditor_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__).a}}]);
//# sourceMappingURL=12.d678caf8da5aebf987c8.bundle.js.map